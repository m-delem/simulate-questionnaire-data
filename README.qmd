---
title: Simulating Likert-type questionnaire data with R  
author: " "
format: gfm
---

<img src="images/likert.png" align="left" width="200"/>

I have been working on multiple projects that involved analysing questionnaires with "Likert scales", i.e. ordinal variables or pseudo-continuous variables obtained by summing all the ordinal items. Before engaging into the experiments proper, we should conduct robust power analyses, code testing, sanity checks, etc. to ensure that the data collection and analysis will be as smooth as possible. In several complex settings such as multivariate analyses or multilevel modelling, simulation can be a powerful tool to do these tasks by allowing to test intricate computations on synthetic data.

This repository contains code to simulate data from two mental imagery questionnaires I used often: the [Vividness of Visual Imagery Questionnaire (VVIQ)](https://bpspsychub.onlinelibrary.wiley.com/doi/10.1111/j.2044-8295.1973.tb01322.x) and the [Object-Spatial Imagery and Verbal Questionnaire](https://onlinelibrary.wiley.com/doi/10.1002/acp.1473). The simulation script (`scripts/simulate_questionnaires.R`) is heavily commented to explain the rationale behind the code and the choices made. The script is also designed to be easily adaptable to other questionnaires. It shows methods to:

-   Simulate score distributions from various types of information (e.g., quantile percentages, means, sd, skewness).

-   Simulate different distributions for sub-scales or sub-groups in the sample.

-   Correlate sub-scales with different types of distributions.

-   Simulate individual ordinal items from the total scores of each subject.

`scripts/plot_questionnaires.R` contains two functions associated with the questionnaires to provide convenient plotting methods.

## Examples

```{r}
#| label: setup
#| output: false

source("scripts/simulate_questionnaires.R")
source("scripts/plot_questionnaires.R")
```

`simulate_vviq` creates a data frame with a given number of subjects, simulating VVIQ scores and means for four groups defined in aphantasia literature (aphantasia, hypophantasia, typical imagery and hyperphantasia, see [Wright et al., 2024](<https://www.frontiersin.org/journals/psychology/articles/10.3389/fpsyg.2024.1454107/full>)). It can optionally simulate individual responses for all of the 16 items of the VVIQ for each subject (all responses of course summing to the simulated score).

```{r}
#| label: simulate-vviq

df_vviq <- simulate_vviq(n_subjects = 1000, add_items = TRUE)

df_vviq |> 
  group_by(group) |> 
  slice(1) |> 
  display()
```

`simulate_osivq` does the same for the OSIVQ, which comprises three sub-scales: Object, Spatial and Verbal. There are no conventional thresholds to define groups for this questionnaire.

```{r}
#| label: simulate-osivq

df_osivq <- simulate_osivq(n_subjects = 1000, add_items = TRUE)

df_osivq |> 
  head() |> 
  display()
```

Two plotting functions, `plot_vviq` and `plot_osivq`, are provided to plot the distributions of the scores and means of the VVIQ and OSIVQ, respectively. They can be called with the argument `print = TRUE` to display the plot directly in the console. In any case, they return a ggplot object that can be further customized.

```{r}
#| label: plot_vviq
#| fig-width: 14
#| fig-height: 9

vviq_scores <- df_vviq |> plot_vviq(var = "score", print = FALSE)
vviq_means  <- df_vviq |> plot_vviq(var = "mean", print = FALSE) + 
  labs(title = NULL, y = NULL)

osivq_scores <- df_osivq |> plot_osivq(var = "score", print = FALSE)
osivq_means  <- df_osivq |> plot_osivq(var = "mean", print = FALSE) + 
  labs(title = NULL, y = NULL)

# Laying out the four plots with the `patchwork` package
(vviq_scores + vviq_means) / (osivq_scores + osivq_means) + 
  plot_layout(guides = "collect")
```

I believe the structures presented in these scripts could be useful to anyone who needs to simulate Likert-type questionnaire data. The scripts are designed to be easily adaptable to other questionnaires and can be used as templates to build your own simulation scripts. I hope they will be useful to you! :cherry_blossom:

> Note: this repository is a Quarto project endowed with a `renv` R environment to ensure the stability of the packages used. The repository is based on [this Quarto project template](https://github.com/m-delem/my-quarto-template): you can find a quick tutorial to use this project structure and an in-depth explanation of its elements in the README of the template.
